(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[179],{434:(e,t,a)=>{var r={"./beer.svg":[762,762],"./bg-img.png":[256,256],"./burger.svg":[25,25],"./close.svg":[10],"./pizza.svg":[922,922]};function n(e){if(!a.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a.t(n,17)))}n.keys=()=>Object.keys(r),n.id=434,e.exports=n},184:(e,t,a)=>{"use strict";const r=[{name:"Pizza",ingredients:["pepperoni","mushrom","mozarella"],id:0,price:14,image:"pizza.svg"},{name:"Hamburger",ingredients:["beef","cheese","lettuce"],price:12,image:"burger.svg",id:1},{name:"Beer",ingredients:["grain, hops, yeast, water"],price:12,image:"beer.svg",id:2}],n=async()=>{const e=document.querySelector(".app__body-menu"),t=await Promise.all(r.map((async e=>`\n      <div class="app__body-menu-item">\n        <div class="app__body-menu-item-info">\n          <img class="app__body-menu-item-img" src="${(await a(434)(`./${e.image}`)).default}" alt="${e.name} icon" aria-hidden='true'>\n          <div class="app__body-menu-item-details">\n            <h2 class="app__body-menu-item-name">${e.name}</h2>\n            <p class="app__body-menu-item-desc">${e.ingredients.join(", ")}</p>\n            <p class="app__body-menu-item-price">$${e.price}</p>\n          </div>\n        </div>\n        <button class="app__body-menu-item-btn" aria-label='add ${e.name} to cart at $${e.price} per unit' data-add-order=${e.id}>\n          +\n        </button>\n      </div>\n    `)));e.innerHTML="",e.insertAdjacentHTML("afterbegin",t.join(""))},o=async()=>{const e=document.querySelector(".app__footer"),t=localStorage.getItem("order")?JSON.parse(localStorage.getItem("order")):{complete:!1,items:[]},a=t.items;if(a.length>0&&!t.complete){let t=0,r="";a.forEach(((e,a)=>{t+=e.price,r+=`\n        <div class="app__footer-order-item">\n          <p class="app__footer-order-item-name">${e.name}<button class="app__footer-order-item-btn" data-remove-order=${a}>remove</button></p>\n          <p class="app__footer-order-item-price">$${e.price}</p>\n        </div>\n      `}));const n=`\n      <h2 class="app__footer-title ">Your order</h2>\n      <div class="app__footer-order">\n        ${r}\n      </div>\n      <div class="app__footer-order-total">\n        <p class="app__footer-order-total-title">Total price:</p>\n        <p class="app__footer-order-total-price">$${t}</p>\n      </div>\n      <button class="app__footer-order-btn" data-submit='pay'>Complete order</button>\n    `;e.innerHTML=n}else t.complete?e.innerHTML=`<p class="app__footer-success-msg">Thanks, ${t.customer}! Your order is on its way!</p>`:e.innerHTML=""};var s=a(10);const p=()=>{const e=document.querySelector(".app__body-menu"),t=JSON.parse(localStorage.getItem("order")).items.reduce(((e,t)=>e+t.price),0),a=`\n     <div class="app__body-payment">\n        <div class="app__body-payment-header">\n          <h2 class="app__body-payment-title">Enter card details</h2>\n          <button class='app__body-payment-close-btn' data-close-btn='close'><img class="app__body-payment-close-btn-img" src="${s}" alt="close icon"></button>\n        </div>\n\n        <form class="app__body-payment-form">\n          <input class="app__body-payment-input" type="text" name="CardName" id="card-name"\n                  aria-label='enter your name' placeholder='Enter your name' required>\n          \n          <input class="app__body-payment-input" type="text" maxlength="16" pattern="[0-9]*" inputmode="numeric" name="cardNumner"\n                  id="card-number" aria-label='Enter card number' placeholder='Enter card number' required>\n          \n          <input class="app__body-payment-input" type="text" maxlength="3" inputmode="numeric" name="cardCvv" id="card-cvv"\n                  aria-label='Enter cvv' placeholder='Enter CVV' required>\n          <input class="app__body-payment-submit" type="submit" value='Pay' data-submit-order="${t}">\n        </form>\n    </div>\n  `;e.insertAdjacentHTML("afterbegin",a),(()=>{const e=document.querySelector("#card-number"),t=document.querySelector("#card-cvv");e.addEventListener("keypress",(e=>{const{charCode:t}=e;(t<48||t>57)&&e.preventDefault()})),t.addEventListener("keypress",(e=>{const{charCode:t}=e;(t<48||t>57)&&e.preventDefault()}))})()};localStorage.getItem("order")?(n(),o()):n(),document.addEventListener("click",(e=>{if(e.target.dataset.addOrder){(e=>{const t=localStorage.getItem("order")?JSON.parse(localStorage.getItem("order")):{complete:!1,items:[]},a=r.find((t=>t.id===e)),n=t.items;n.push(a),t.items=n,localStorage.setItem("order",JSON.stringify(t)),o()})(parseInt(e.target.dataset.addOrder,10))}else if(e.target.dataset.removeOrder){(e=>{const t=JSON.parse(localStorage.getItem("order")),a=t.items.filter(((t,a)=>a!==e));t.items=a,localStorage.setItem("order",JSON.stringify(t)),o()})(parseInt(e.target.dataset.removeOrder,10))}else"pay"===e.target.dataset.submit?p():(e.target.classList.contains("app__body-payment-close-btn")||e.target.dataset.submitOrder)&&(e=>{if(e.target.dataset.closeBtn)n();else{e.preventDefault();const t=e.target.closest(".app__body-payment-form"),a=JSON.parse(localStorage.getItem("order")),r=new FormData(t);a.complete=!0,a.customer=r.get("CardName"),localStorage.setItem("order",JSON.stringify(a)),n(),o(),t.reset(),localStorage.removeItem("order")}})(e)}))},10:(e,t,a)=>{"use strict";e.exports=a.p+"img/close.svg"}},e=>{e(e.s=184)}]);